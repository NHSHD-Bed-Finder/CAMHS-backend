library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals_related",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals_related.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
---
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals_related",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals_related.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals_related",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals_related.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
library(rjson)
library(xlsx)
writeSheetToJSON <- function(file, sheetName, saveAs) {
properties <- read.xlsx2(file, sheetName = sheetName, stringsAsFactors = "false")
p <- lapply(1:nrow(properties), function(x) properties[x,])
pjson <- toJSON(p)
write(pjson, saveAs)
}
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "royals_related",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/royals_related.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "famous_people",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/famous_people.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "decks",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/decks.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "deck_cards",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/deck_cards.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "properties",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/properties.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "filter_game_settings",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/filter_game_settings.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "houses",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/houses.json")
writeSheetToJSON(file = "~/Projects/QLBritannia/QLBritannia/Content/QLCards.xlsx",
sheetName = "events",
saveAs = "~/Projects/QLBritannia/QLBritannia/Content/events.json")
x <- ["NW4 2EH", "SW17 9PT"]
x <- c("NW4 2EH", "SW17 9PT")
search <- paste0("[",paste(paste0("\"",x,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/street2coordinates"
response <- POST(postcode_url,body=search)
library(httr)
response <- POST(postcode_url,body=search)
library(rJSON)
library(rjson)
json     <- fromJSON(content(response,type="text"))
geocode  <- as.data.frame( do.call(rbind,sapply(json,
function(x) c(long=x$longitude,lat=x$latitude))),
stringsAsFactors = FALSE)
geocode  <- as.data.frame( do.call(rbind,sapply(json,
function(x) c(long=x$longitude,lat=x$latitude))),
stringsAsFactors = FALSE)
rm x
rm(x)
geocode  <- as.data.frame( do.call(rbind,sapply(json,
function(x) c(long=x$longitude, lat=x$latitude))),
stringsAsFactors = FALSE)
geocode  <- as.data.frame( do.call(rbind,sapply(json, function(x) c(long=x$longitude, lat=x$latitude))),stringsAsFactors = FALSE)
x <- c("NW4 2EH", "SW17 9PT")
search <- paste0("[",paste(paste0("\"",x,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/street2coordinates"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
geocode  <- as.data.frame( do.call(rbind,sapply(json, function(y) c(long=y$longitude, lat=y$latitude))),stringsAsFactors = FALSE)
x <- c("NW4 2EH", "SW17 9PT", "N2 0SQ")
search <- paste0("[",paste(paste0("\"",x,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/street2coordinates"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
geocode  <- as.data.frame( do.call(rbind, sapply(json, function(y) c(long=y$longitude, lat=y$latitude))),stringsAsFactors = FALSE)
geocode  <- as.data.frame( do.call(rbind, lapply(json, function(y) c(long=y$longitude, lat=y$latitude))),stringsAsFactors = FALSE)
getCoordsOfPostcodes <- function(postcodes) {
search <- paste0("[",paste(paste0("\"",x,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/street2coordinates"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
coords  <- as.data.frame( do.call(rbind,
lapply(json, function(y) c(long=y$longitude,
lat=y$latitude))),
stringsAsFactors = FALSE)
return(coords)
}
x <- c("NW4 2EH", "SW17 9PT", "N2 0SQ")
y <- getCoordsOfPostcodes(x)
y <- getCoordsOfPostcodes(x)
search <- paste0("[",paste(paste0("\"",coords,"\""),collapse=","),"]")
coords <- y
search <- paste0("[",paste(paste0("\"",coords,"\""),collapse=","),"]")
latlong <- lapply(coords, function(x) paste(x$lat, x$long, sep = ","))
latlong <- sapply(coords, function(x) paste(x$lat, x$long, sep = ","))
View(coords)
latlong <- lapply(range(1, nrow(coords)), function(x) paste(coords$lat[x], x$long[x], sep = ","))
coords
type(coords)
View(coords)
str(coords)
latlong <- lapply(t(coords), function(x) paste(x$lat, x$long, sep = ","))
t(cooreds)
t(coords)
coords
coords$lat
latlong <- sapply(t(coords), function(x) paste(x$lat, x$long, sep = ","))
latlong <- dapply(t(coords), function(x) paste(x$lat, x$long, sep = ","))
latlong <- lapply(coords, function(x) paste(x[1], x[2], sep = ","))
latlong <- lapply(t(coords), function(x) paste(x[1], x[2], sep = ","))
latlong <- lapply(t(coords), function(x) paste(x[0], x[1], sep = ","))
range(1,3)
range(1..2)
range(1, 5)
coords$lat
coords$lat[1]
range(1, nrow(coords))
sum(1,3)
sum(range(1, nrow(coords)))
latlong <- lapply(1:nrow(coords), function(x) paste(coords$lat[x], coords$long[x], sep = ","))
search <- paste0("[",paste(paste0("\"",latlong,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/coordinates2politics"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
latlong <- lapply(1:nrow(coords), function(x) paste(coords$long[x], coords$lat[x], sep = ","))
search <- paste0("[",paste(paste0("\"",latlong,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/coordinates2politics"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
latlong <- lapply(1:nrow(coords), function(x) paste(coords$lat[x], coords$long[x], sep = ","))
search <- paste0("[",paste(paste0("\"",latlong,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/coordinates2politics"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
json
search <- paste0("[",latlong,"]")
search <- paste0("[",paste0(latlong, collapse = "\n"),"]")
search <- paste0("[",paste0(latlong, collapse = "\\n"),"]")
search <- paste0("[",paste0(latlong, collapse = "/n"),"]")
search <- paste0("[",paste0(latlong, collapse = "\n"),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/coordinates2politics"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
latlong <- lapply(1:nrow(coords), function(x) paste(coords$long[x], coords$lat[x], sep = ","))
search <- paste0("[",paste(paste0("\"",latlong,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/coordinates2politics"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
latlong <- lapply(1:nrow(coords), function(x) paste(coords$lat[x], coords$long[x], sep = ","))
search <- paste0("[",paste(paste0("\"",latlong,"\""),collapse=","),"]")
postcode_url  <- "http://www.datasciencetoolkit.org/coordinates2politics"
response <- POST(postcode_url,body=search)
json     <- fromJSON(content(response,type="text"))
search
library(RDSTK)
install(RDSTK)
install.packages("RDSTK")
library(RDSTK)
latlong <- lapply(1:nrow(coords), function(x) coordinates2politics(latitude = coords$lat[x], longitude = coords$long[x]))
latlong[0]
latlong <- sapply(1:nrow(coords), function(x) coordinates2politics(latitude = coords$lat[x], longitude = coords$long[x]))
latlong <- sapply(1:nrow(coords), function(x) fromJSON(coordinates2politics(latitude = coords$lat[x], longitude = coords$long[x])), type="text")
latlong <- sapply(1:nrow(coords), function(x) fromJSON(coordinates2politics(latitude = coords$lat[x], longitude = coords$long[x])))
remove.packages("rJava")
remove.packages("xlsx")
remove.packages("xlsxjars")
install.packages("xlsx")
library("xlsx", lib.loc="/Library/Frameworks/R.framework/Versions/3.1/Resources/library")
input <- "data.csv"
output <- "data.json"
library("jsonlite")
input_file <- "data.csv"
output_file <- "data.json"
setwd("~/git/datalino")
library("jsonlite")
input_file <- "names.csv"
output_file <- "names.json"
# Read data
data <- read.csv("names.csv", stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
input_file <- "lifeexpenctancy.csv"
output_file <- "lifeexpenctancy.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
input_file <- "lifeexpectancy.csv"
output_file <- "lifeexpectancy.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
setwd("~/hack/CAMHS")
library("jsonlite")
input_file <- "trusts.csv"
output_file <- "trusts.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
library("jsonlite")
input_file <- "bedrequests.csv"
output_file <- "bedrequests.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
input_file <- "bedrequests.csv"
output_file <- "/src/main/resources/bedrequests.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
output_file <- "src/main/resources/bedrequests.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
library("jsonlite")
input_file <- "bedrequests.csv"
output_file <- "src/main/resources/bedrequests.json"
# Read data
data <- read.csv(input_file, stringsAsFactors = F)
json <- toJSON(data)
write(json, output_file)
